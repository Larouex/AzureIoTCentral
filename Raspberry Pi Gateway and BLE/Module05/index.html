<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />

    <title>Hackin Makin with Larouex</title>
    <meta content="" name="descriptison" />
    <meta content="" name="keywords" />

    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="180x180" href="../../Assets/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../Assets/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../Assets/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Montserrat:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
      rel="stylesheet"
    />

    <!-- Vendor CSS Files -->
    <link
      href="../../Assets/vendor/bootstrap/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link href="../../Assets/vendor/icofont/icofont.min.css" rel="stylesheet" />
    <link href="../../Assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet" />
    <link href="../../Assets/vendor/venobox/venobox.css" rel="stylesheet" />
    <link
      href="../../Assets/vendor/owl.carousel/assets/owl.carousel.min.css"
      rel="stylesheet"
    />
    <link href="../../Assets/vendor/aos/aos.css" rel="stylesheet" />

    <!-- Template Main CSS File -->
    <link href="../../Assets/css/style.css" rel="stylesheet" />
  </head>

  <body>

    <!-- ======= Header ======= -->
    <header id="header" class="d-flex align-items-center">
      <div class="container">
        <div class="logo d-block d-lg-none">
          <a href="./index.html">
            <img src="../../Assets/logo.png" alt="" class="img-fluid"/>
          </a>
        </div>

        <nav class="nav-menu d-none d-lg-block">
          <ul class="nav-inner">
            <li class="active"><a href="../index.html">Home</a></li>
            <li><a href="../index.html#about">About</a></li>
            <li class="drop-down">
              <a href="">Modules</a>
              <ul>
                <li><a href="../Module01/index.html">Module 01 - Project Overview</a></li>
                <li><a href="../Module02/index.html">Module 02 - Setting up your Development Toolchain</a></li>
                <li><a href="../Module03/index.html">Module 03 - Overview of the Arduino Nano BLE Devices (BLE Clients)</a></li>
                <li><a href="../Module04/index.html">Module 04 - Development of the BLE Device Peripheral Clients</a></li>
                <li><a href="../Module05/index.html">Module 05 - Preparing the Raspberry Pi Gateway Device</a></li>
              </ul>
            </li>

            <li class="nav-logo">
              <a href="https://www.hackinmakin.com"></a>
              <img src="../../Assets/logo.png" alt="" class="img-fluid"/>
              </a>
            </li>

            <li><a href="https://www.hackinmakin.com#projects">More</a></li>
            <li><a href="https://www.hackinmakin.com#contact">Contact</a></li>
          </ul>
        </nav>
        <!-- .nav-menu -->
      </div>
    </header>
    <!-- End Header -->

    <br>

    <!-- Start Modules Section -->
    <div class="container">
      
      <div class="row">
        <div class="col-md-8 offset-md-2">
          <h2>Raspberry Pi Gateway and Arduino Nano BLE Devices for Azure Iot Central</h1>
            <hr />
        </div>
      </div>

      <div class="row">
        <div class="col-md-8 offset-md-2">
          <h3><i class="bx bx-cube-alt"></i>&nbsp;Module 05 - Preparing the Raspberry Pi Gateway Device</h2>
          <hr/>
        </div>
      </div>

      <div class="row">
        <div class="col-md-8 offset-md-2">
          <h3><b>Configuring the OS for the RPi (Raspbian)</b></h3>
          <p>
            Our first thing to set up is your Raspbian image on the SD card that you load will into the MicroSD card slot on the Raspberry Pi.
            <uL>
              <li>The official SD Card Formatter from the SD Association. Install for your OS. <a href="https://www.sdcard.org/downloads/formatter/">SD Card Formatter</a></li>
              <li>The tool called "balenaEtcher" which is used to copy your Raspbian image onto the formatted SD card. <a href="https://www.balena.io/etcher/">balenaEtcher Download Page</a></li>
              <li>The OS Image for the RPi. We will install the full package named "Raspbian Buster with desktop and recommended software" <a href="https://www.raspberrypi.org/downloads/raspbian/">Raspbian Buster Download Page</a></li>
            </uL>
            <b>NOTE:</b> balenaEtcher does not require the SD card to be formatted before imaging with Raspbian. I include the process for completeness, but you can skip it if you are so inclined!
          </p>
          <hr />
        </div>
      </div>

      <div class="row">
        <div class="col-md-8 offset-md-2">
          <h3><b>Now that you have all of that software installed, let's build our SD card for the Raspberry Pi</b></h3>
          <p>
            <uL>
              <li>Place your card into your SD slot on your computer and insure the system can see the card. DO NOT FORMAT IT if you are prompted by your Operating System, just dismiss the dialogs.</li>
              <li>Start the SD Card Formatter software you downloaded.</a>
                <br>
                <img src="../../Assets/sd-formatter-app.png" height="250" alt="SD Card Formatter" class="img-responsive rounded">
              </li>
              <li>The dialog will open, find your SD card (make sure the right drive is selected) and choose the option to "Overwrite format" and give your image a name
                <br>
                <img src="../../Assets/sd-formatter-dialog.png" height="250" alt="SD Card Formatter" class="img-responsive rounded">
              </li>
              <li>Have a coffee, it will take a bit to do a 16gig card...</li>
            </uL>
          </p>
          <hr />
        </div>
      </div>

      <div class="row">
        <div class="col-md-8 offset-md-2">
          <h3><b>Next Let's Image Raspbian to the SD Card...</b></h3>
          <p>
            <uL>
              <li>Close the SD Formatter Card application</li>
              <li>Open the balenaEtcher application...</a>
                <br>
                <img src="../../Assets/balenaetcher-app.png" height="250" alt="balenaEtcher application" class="img-responsive rounded">
              </li>
              <li>Click the "Select Image" button and select the zip file from the location where you saved it when you downloaded "Buster" from the Raspberry Pi download page
                <br>
                <img src="../../Assets/balenaetcher-dialog-select-image.png" height="250" alt="balenaEtcher select image" class="img-responsive rounded">
              </li>
              <li>Select the "Flash!" button and sit back let the etcher copy the image and verify it
                <br>
                <img src="../../Assets/balenaetcher-dialog-flash.png" height="250" alt="balenaEtcher flash" class="img-responsive rounded">
              </li>
              <li>Have a coffee, it will take a bit to do a 16gig card...</li>
            </uL>
          </p>
          <hr />
        </div>
      </div>
     
    
      #### Enable ssh to allow remote login
      For security reasons, ssh is no longer enabled by default. To enable it you need to place an empty file named ssh (no extension) in the root of the boot disk.
      
      ##### Mac instructions (enable ssh)
          Open up a terminal window and run this command:
          
          touch /Volumes/boot/ssh
      
      ##### Windows instructions (ssh)
          Run Notepad
          * In a new file put in one space and nothing more
          * Click File / Save As …
          * Be sure to set Save as type to All Files (so the file is NOT saved with a .txt extension)
          * Call the file ssh and save it
          * Close the file
          
          If you are comfortable with the Windows command line you could try this instead (untested!):
              * Open up a command line
              * Switch to the drive and root where boot is located:
              * Type: type NUL >> ssh
              * Verify that file ssh was created
      
      #### Add your WiFi network info
      Create a file in the root of boot called: wpa_supplicant.conf (instructions below). Then paste the following into it (adjusting for your ISO 3166 alpha-2 country code, network name and network password):
      
      ```
      country=US
      ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
      update_config=1
      
      network={
          ssid="NETWORK-NAME"
          psk="NETWORK-PASSWORD"
      }
      ```
      
      ##### Mac instructions (wifi settings)
      Create a new empty file that will hold network info:
      
           touch /Volumes/boot/wpa_supplicant.conf
      
      Edit the file that you just created and paste the text above into it (adjusting for the name of your country code, network name and network password):
      
      ##### Windows instructions (wifi settings)
      * Run Notepad
      * Paste in the contents above (adjusting for the name of your country code, network name and network password)
      * Click File / Save As …
          Be sure to set Save as type to All Files (so the file is NOT saved with a .txt extension)
      * Call the file wpa_supplicant.conf and save it
      * Close the file
       
      #### Eject the micro SD card
      Right-click on boot (on your desktop or File Explorer) and select the Eject option
      This is a “logical” eject - meaning it closes files and preps the SD card for removal - you still have to pull the card out yourself
      
      
      #### Congratulations, you have prepared your OS for the Raspberry Pi
      
      * Make sure your RPi is not plugged in
      * Looking from the top of the RPi, install the SD card (the slot is on the bottom of the board) as shown in the picture below...
      
      ![alt text](../Assets/pi-sd.png "Pi SD Card Insert") 
      
    </div>

    <!-- ======= Footer ======= -->
    <footer id="footer">
      <div class="footer-top">
        <div class="container">
          <div class="row justify-content-center">
            <div class="col-lg-6">
              <h3>Hackin Makin with Larouex </h3>
            </div>
          </div>

          <div class="social-links">
            <a href="https://www.facebook.com/larryj" class="facebook"><i class="bx bxl-facebook"></i></a>
            <a href="https://www.linkedin.com/in/larrywjordanjr/" class="linkedin"><i class="bx bxl-linkedin"></i></a>
          </div>
        </div>
      </div>

    </footer>
    <!-- End Footer -->
    
    <!-- Topic Navigators -->
    <a href="../Module03/index.html" class="previous-topic"><i class="icofont-simple-left"></i></a>  
    <a href="#" class="back-to-top"><i class="icofont-simple-up"></i></a>
    <a href="../Module05/index.html" class="next-topic"><i class="icofont-simple-right"></i></a>
    
    <!-- Vendor JS Files -->
    <script src="../../Assets/vendor/jquery/jquery.min.js"></script>
    <script src="../../Assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="../../Assets/vendor/jquery.easing/jquery.easing.min.js"></script>
    <script src="../../Assets/vendor/php-email-form/validate.js"></script>
    <script src="../../Assets/vendor/jquery-sticky/jquery.sticky.js"></script>
    <script src="../../Assets/vendor/venobox/venobox.min.js"></script>
    <script src="../../Assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
    <script src="../../Assets/vendor/owl.carousel/owl.carousel.min.js"></script>
    <script src="../../Assets/vendor/aos/aos.js"></script>

    <!-- Template Main JS File -->
    <script src="../../Assets/js/main.js"></script>

    </body>
</html>


